<% #= render partial: 'spree/admin/shared/index_table_options', locals: { collection: @collection } %>


<% if @collection.any? %>

    <script type="text/javascript">
      $(function(){
        $('#product_ids_all').click(function(){
          input_name = 'product_ids[]';
          $('input[name="'+input_name+'"]').prop('checked', $(this).is(':checked'));
        });
      });
    </script>

    <%= form_tag admin_bulk_product_edit_bulk_product_edit_items_path(@bulk_product_edit) do %>
        <table class="table" id='bulk_product_edit_items' data-hook>
          <thead>
          <tr data-hook="bulk_product_edit_items_header">
            <th><%= check_box_tag 'all_product_ids', 'all', false, { id: 'product_ids_all' } %></th>
            <th class="name"><%= Spree.t(:name) %></th>
            <th class="created_at"><%= Spree.t(:created_at) %></th>
            <th class="actions"></th>
          </tr>
          </thead>

          <tbody>
          <% @collection.each do |item| %>
              <tr>
                <td><%= check_box_tag 'product_ids[]', item.id, false, { id: "product_ids_#{item.id}" } %></td>
                <td class="name"><%= item.name %></td>
                <td class="created_at"><%= item.created_at.to_date %></td>
                <td class="actions actions-2 text-right">
                  <%#= link_to_edit(item, :no_text => true) %>
                  <%#= link_to_delete(item, :no_text => true) %>
                </td>
              </tr>
          <% end %>
          </tbody>
        </table>

        <div class="form-actions" data-hook="buttons">
          <%= button Spree.t('actions.create'), 'ok', 'submit', {class: 'btn-success', data: { disable_with: "#{ Spree.t(:saving) }..." }} %>
          <span class="or"><%= Spree.t(:or) %></span>
          <%= button_link_to Spree.t('actions.cancel'), admin_bulk_product_edits_url, icon: 'remove' %>
        </div>
    <% end %>

<% end %>

<% #= render partial: 'spree/admin/shared/index_table_options', locals: { collection: @collection } %>
